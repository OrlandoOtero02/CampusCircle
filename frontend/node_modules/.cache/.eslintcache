[{"C:\\Users\\amrit\\CampusCircle\\frontend\\src\\index.js":"1","C:\\Users\\amrit\\CampusCircle\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\amrit\\CampusCircle\\frontend\\src\\App.js":"3","C:\\Users\\amrit\\CampusCircle\\frontend\\src\\pages\\register\\Register.jsx":"4"},{"size":552,"mtime":1694622406193,"results":"5","hashOfConfig":"6"},{"size":375,"mtime":1694622406198,"results":"7","hashOfConfig":"6"},{"size":370,"mtime":1696542405856,"results":"8","hashOfConfig":"6"},{"size":7312,"mtime":1696542981283,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","suppressedMessages":"12","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xfeklu",{"filePath":"13","messages":"14","suppressedMessages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},"C:\\Users\\amrit\\CampusCircle\\frontend\\src\\index.js",[],[],"C:\\Users\\amrit\\CampusCircle\\frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\amrit\\CampusCircle\\frontend\\src\\App.js",["23","24"],[],"C:\\Users\\amrit\\CampusCircle\\frontend\\src\\pages\\register\\Register.jsx",["25"],[],"import { useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport \"./register.css\";\r\n//import { useHistory } from 'react-router-dom';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n\tconst email = useRef();\r\n\tconst username = useRef();\r\n\tconst password = useRef();\r\n\tconst confirmPassword = useRef();\r\n\tconst age = useRef();\r\n\tconst history = useNavigate();\r\n\r\n\tconst [validE, setValidE] = useState(0);\r\n\tconst [validP, setValidP] = useState(0);\r\n\tconst [validC, setValidC] = useState(0);\r\n\tconst [validU, setValidU] = useState(0);\r\n\tconst [validA, setValidA] = useState(0);\r\n\r\n\tfunction validateEmail() {\r\n\t\tif (email.current.value.length === 0) {\r\n\t\t\tdocument.getElementById(\"emailError\").innerHTML =\r\n\t\t\t\t\"Please enter an email address!\";\r\n\t\t\tconsole.log(\"no email provided\");\r\n\t\t\tsetValidE(0);\r\n\t\t} else if (\r\n\t\t\t!String(email.current.value).match(\r\n\t\t\t\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tconsole.log(\"invlaid email type\");\r\n\t\t\tsetValidE(0);\r\n\t\t\tdocument.getElementById(\"emailError\").innerHTML =\r\n\t\t\t\t\"Please enter a valid email address!\";\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"emailError\").innerHTML = \"\";\r\n\t\t\tsetValidE(1);\r\n\t\t}\r\n\t}\r\n\tfunction validatePassword() {\r\n\t\t// add regex check\r\n\t\t// var re = ^(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,16}$;\r\n\t\tif (password.current.value.length === 0) {\r\n\t\t\tdocument.getElementById(\"passError\").innerHTML = \"Please enter password!\";\r\n\t\t\tconsole.log(\"no password written\");\r\n\t\t\tsetValidP(0);\r\n\t\t} else if (\r\n\t\t\t!(\r\n\t\t\t\tpassword.current.value.length >= 8 &&\r\n\t\t\t\tpassword.current.value.length <= 16 &&\r\n\t\t\t\t(password.current.value.match(/(?=.*[^a-zA-Z0-9])/) &&\r\n\t\t\t\t\t!/\\s/g.test(password.current.value))\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tdocument.getElementById(\"passError\").innerHTML =\r\n\t\t\t\t\"Please enter a valid password!\";\r\n\t\t\tconsole.log(\"not a valid password\");\r\n\t\t\tsetValidP(0);\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"passError\").innerHTML = \"\";\r\n\t\t\tsetValidP(1);\r\n\t\t}\r\n\t}\r\n\tfunction validateConfirmPassword() {\r\n\t\tif (confirmPassword.current.value.length === 0) {\r\n\t\t\tdocument.getElementById(\"confirmPassError\").innerHTML =\r\n\t\t\t\t\"Please enter password again!\";\r\n\t\t\tconsole.log(\"confirm password length is 0\");\r\n\t\t\tsetValidC(0);\r\n\t\t} else if (confirmPassword.current.value !== password.current.value) {\r\n\t\t\tdocument.getElementById(\"confirmPassError\").innerHTML =\r\n\t\t\t\t\"Please enter matching password!\";\r\n\t\t\tconsole.log(\"confirm password does not match oringal password\");\r\n\t\t\tsetValidC(0);\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"confirmPassError\").innerHTML = \"\";\r\n\t\t\tsetValidC(1);\r\n\t\t}\r\n\t}\r\n\tfunction validateUsername() {\r\n\t\tif (username.current.value.length === 0) {\r\n\t\t\tdocument.getElementById(\"unameError\").innerHTML =\r\n\t\t\t\t\"Please enter username!\";\r\n\t\t\tconsole.log(\"no username provided\");\r\n\t\t\tsetValidU(0);\r\n\t\t} else if (\r\n\t\t\t!(\r\n\t\t\t\tusername.current.value.length <= 16 &&\r\n\t\t\t\t!/\\s/g.test(username.current.value)\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tdocument.getElementById(\"unameError\").innerHTML =\r\n\t\t\t\t\"Please enter valid username!\";\r\n\t\t\tconsole.log(\"username less than 16 char\");\r\n\t\t\tsetValidU(0);\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"unameError\").innerHTML = \"\";\r\n\t\t\tsetValidU(1);\r\n\t\t}\r\n\t}\r\n\tfunction validateAge() {\r\n\t\tif (age.current.value.length === 0) {\r\n\t\t\tdocument.getElementById(\"ageError\").innerHTML = \"Please enter age!\";\r\n\t\t\tconsole.log(\"no age given\");\r\n\t\t\tsetValidA(0);\r\n\t\t} else if (\r\n\t\t\t!(\r\n\t\t\t\tage.current.value >= 17 &&\r\n\t\t\t\tage.current.value <= 110 &&\r\n\t\t\t\t!isNaN(age.current.value)\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tdocument.getElementById(\"ageError\").innerHTML =\r\n\t\t\t\t\"Please enter a valid age!\";\r\n\t\t\tconsole.log(\"age is not in the correct range\");\r\n\t\t\tsetValidA(0);\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"ageError\").innerHTML = \"\";\r\n\t\t\tsetValidA(1);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleClick = async e => {\r\n\t\te.preventDefault();\r\n\t\tif (validA + validC + validE + validP + validU !== 5) {\r\n\t\t\tdocument.getElementById(\"overallError\").innerHTML =\r\n\t\t\t\t\"Please fill all fields!\";\r\n\t\t} else {\r\n\t\t\tconst user = {\r\n\t\t\t\t//TODO check to see if this is everything user needs\r\n\t\t\t\temail: email.current.value,\r\n\t\t\t\tusername: username.current.value,\r\n\t\t\t\tpassword: password.current.value,\r\n\t\t\t\tage: age.current.value\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await axios.post(\"/auth/register\", user);\r\n\t\t\t\thistory.push(\"/login\");\r\n\t\t\t} catch (err) {\r\n                    ////// how to distingush between types of error???\r\n\t\t\t\tdocument.getElementById(\"overallError\").innerHTML = \r\n\t\t\t\t\t\"Email or Username already taken!\";\r\n               console.log(\"email or username already taken\")\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst redirect = () => {\r\n\t\thistory.push(\"/login\"); //// change later to login?\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"register\" role=\"main\" aria-label=\"This is the registration page where user type in all required information to create an account\">\r\n\t\t\t<div className=\"registerWrapper\">\r\n\t\t\t\t<div className=\"registerLeft\">\r\n\t\t\t\t\t<h3 className=\"registerLogo\">Campus Circle</h3>\r\n\t\t\t\t\t<span className=\"registerDesc\">\r\n\t\t\t\t\t\tConnect with others at Purdue through this brand-new social media\r\n\t\t\t\t\t\tapp, designed just for Boilermakers!\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"registerRight\">\r\n\t\t\t\t\t<form className=\"registerBox\" onSubmit={handleClick}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"name@example.com\"\r\n\t\t\t\t\t\t\tref={email}\r\n\t\t\t\t\t\t\tclassName=\"RegisterInput\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tonBlur={validateEmail}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div id=\"emailError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tref={username}\r\n\t\t\t\t\t\t\tclassName=\"RegisterInput\"\r\n\t\t\t\t\t\t\tonBlur={validateUsername}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div id=\"unameError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t\t<small style={{ textAlign: \"center\", color: \"darkgoldenrod\"}}>\r\n\t\t\t\t\t\t\tUsername length is restricted to 16 characters.\r\n\t\t\t\t\t\t</small>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\tref={password}\r\n\t\t\t\t\t\t\tclassName=\"RegisterInput\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tonBlur={validatePassword}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div id=\"passError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t\t<small style={{ textAlign: \"center\", color: \"darkgoldenrod\" }}>\r\n\t\t\t\t\t\t\tYour password must be 8-16 characters long and have at least\r\n\t\t\t\t\t\t\tspecial character and must not contain spaces.\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\tref={confirmPassword}\r\n\t\t\t\t\t\t\tclassName=\"RegisterInput\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tonBlur={validateConfirmPassword}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div id=\"confirmPassError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Age\"\r\n\t\t\t\t\t\t\tref={age}\r\n\t\t\t\t\t\t\tclassName=\"RegisterInput\"\r\n\t\t\t\t\t\t\tonBlur={validateAge}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div id=\"ageError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t\t<small style={{ textAlign: \"center\", color: \"darkgoldenrod\" }}>\r\n\t\t\t\t\t\t\tUser must be at least 17 years old.\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<button className=\"RegisterButton\" type=\"submit\">\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"registerLoginButton\" onClick={redirect}>\r\n\t\t\t\t\t\t\tAlready have an account? Log In\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div id=\"overallError\" style={{ color: \"red\" }}></div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}",{"ruleId":"26","severity":1,"message":"27","line":1,"column":8,"nodeType":"28","messageId":"29","endLine":1,"endColumn":12},{"ruleId":"26","severity":1,"message":"30","line":4,"column":50,"nodeType":"28","messageId":"29","endLine":4,"endColumn":54},{"ruleId":"26","severity":1,"message":"31","line":139,"column":11,"nodeType":"28","messageId":"29","endLine":139,"endColumn":14},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'res' is assigned a value but never used."]